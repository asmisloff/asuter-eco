# Модель и контроллеры для раздела "Экономика"
- С системотехнической точки зрения это MVC.
    - Слой моделей состоит из двух частей
        - DTO
        - и State.
            - хранит собственно значение и информацию о валидности этого значения. Информация о валидности состоит из двух полей:
                - status - числовой код - OK(0) | Warning(1) | Error(2)
                - и what - массив строк - что не так. Если все так, what = undefined.
            - Основная реализация - StringState - хранит состояние в форме текстовой строки.
    - Преобразования модели выполняются объектами-контроллерами через их открытый интерфейс. Здесь они называются Handler-ами, возможно, стоит переименовать.
        - Есть предопределенный набор контроллеров, которые перекрывают, кажется, основной круг задач.
            - FloatStringStateHandler - управляет StringState-ом как представлением действительного числа.
            - IntStringStateHandler - то же, но для целого числа.
            - StringStringStateHandler - для строки.
            - StringStateRecordHandler - для набора из StringState-ов и невалидируемых значений - записей.
            - StringStateTableHandler - для массива записей - таблицы.
    - Слой представления в данном случае представлен набором React-компонентов. Компоненты не содержат логики работы с состоянием, они не связаны друг с другом и в основном просто принимают отдельные части общего состояния в форме Props-ов. Все, что делают обработчики событий внутри компонентов, - вызывают публичные методы основного контроллера, в данном случае через посредство Redux Toolkit-а. Слой представления может быть организован и как угодно иначе (без Toolkit-а, без Redux-а, вообще не на React-е и не в форме браузерного приложения), модель и контроллер останутся те же самые.

# Для чего козе баян
MVC - один из широко распространенных способов отделить логику от представления. Для чего именно нам желательно их разделить.
- Тестируемость. Для тестирования логики не нужен слой представления, не нужен state manager,не нужен React. Только контрольные наборы данных, которые можно брать прямо из работающего приложения, и контроллер, который создается как простой объект класса безо всяких ухищрений.
- Отдельной строкой укажу на регрессионное тестирование. Большинство ошибок, по крайней мере самые неприятные из них, - это ошибки в работе с состоянием. Если эта логика явно выделена и может тестироваться отдельно, обнаруженные ошибки, будучи исправлены, могут быть покрыты регрессионными модульными тестами. В отсутствие этой практики (а тут сама возможность затруднена, поскольку логика размазана по компонентам GUI) имеем ASUTER-390, всплывающую уже в четвертый раз.
- Представление можно вообще разрабатывать отдельно от двух других слоев. Более того, это могут делать разные люди. Тестировать контроллер также можно (и думается, желательно) отдельно от представления.
- В представление можно вносить изменения относительно безопасно, - это ничего не сломает в двух других слоях. Для нас сверхактуально.
- Можно иметь несколько разных представлений с буквально одной и той же логикой, разработанной и протестированной один раз. Здесь вспомним об обучающей версии.